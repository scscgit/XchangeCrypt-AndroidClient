/**
 * XchangeCrypt REST API Specification
 * TradingView REST API Specification for Brokers (ASP.NET Core 2.0)
 * <p>
 * OpenAPI spec version: v1
 * Contact:
 * <p>
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */

package io.swagger.client;

import com.android.volley.VolleyError;

import java.io.UnsupportedEncodingException;

public class ApiException extends Exception {
  int code = 0;
  String message = null;
  private VolleyError volleyError;

  public ApiException() {
  }

  public ApiException(int code, String message) {
    this.code = code;
    this.message = message;
  }

  public ApiException(int code, VolleyError volleyError) {
    this(code, volleyError.getMessage());
    this.volleyError = volleyError;
  }

  /**
   * Get the HTTP status code.
   *
   * @return HTTP status code
   */
  public int getCode() {
    return code;
  }

  /**
   * Set the HTTP status code.
   *
   * @param code HTTP status code.
   */
  public void setCode(int code) {
    this.code = code;
  }

  /**
   * Get the error message.
   *
   * @return Error message.
   */
  public String getMessage() {
    String networkResponse = getNetworkResponse();
    if (message == null) {
      return networkResponse;
    }
    return message + (networkResponse == null ? "" : "\n" + networkResponse);
  }

  /**
   * Set the error messages.
   *
   * @param message Error message.
   */
  public void setMessage(String message) {
    this.message = message;
  }

  public String getNetworkResponse() {
    try {
      if (volleyError == null) {
        return null;
      }
      return new String(volleyError.networkResponse.data, "UTF-8");
    } catch (UnsupportedEncodingException e) {
      e.printStackTrace();
      return null;
    }
  }
}
